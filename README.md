# anony-chatroom

簡易匿名聊天室（Node.js + SSE）。

## 功能
- 匿名聊天與在線名單。
- 訊息時間標記（以每位使用者裝置本地時區顯示）。
- 可選密語加密（前端簡易 XOR）。
- Emoji 與 GIF 以輸入框旁 icon 彈出選單快速貼圖（內建多組 GIF，並可外部關鍵字搜尋）。
- 對話附件上傳（圖片/PDF/一般檔案）與送出前預覽。
- PDF 可直接在聊天訊息中內嵌預覽，並可開啟全螢幕預覽視窗。
- 新訊息分頁標題提示（頁籤閃爍與未讀數）。
- 可收回/刪除自己已送出的訊息（對所有人同步生效，低調 icon 操作）。
- 支援點名(@線上使用者) 與針對訊息回覆（reply）。
- 偵測 URL 並轉為可點連結，且可在聊天室內顯示連結預覽卡片。
- 網路監控可見性提示（根據 HTTPS 與密語狀態即時顯示風險）。

## 啟動
```bash
npm start
```

預設埠號：`8080`（可透過 `PORT` 環境變數覆蓋）。

## 環境變數
- `GIPHY_API_KEY`：外部 GIF 搜尋 API key（可選，不設時使用預設公開 key）。

## 連線行為
- 非活躍連線逾 10 分鐘會被移出；SSE 具 keepalive ping 以降低中途斷線機率。
